# CareDirection-iOS

## Self Care. 방향성을 제시하다.

### 🚩 서비스 work flow

<div>
<img width="500" src="https://user-images.githubusercontent.com/49272528/71718405-6e446100-2e5e-11ea-95a6-b7f9a9345281.png">
</div>


### 🚩 앱 아이콘

<div>
<img width="100" src="https://user-images.githubusercontent.com/49272528/71719665-68e91580-2e62-11ea-919d-beda4479a798.png">
</div>


------

### 🚩 실행화면 스크린 캡쳐

1. **로그인/회원가입/사용자 정보 수정**

<img width="300" alt="스크린샷 2020-01-03 오후 4 43 27" src="https://user-images.githubusercontent.com/49272528/71717360-2e2faf00-2e5b-11ea-9add-3ca71d4b1695.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 44 12" src="https://user-images.githubusercontent.com/49272528/71717381-46073300-2e5b-11ea-8f69-3a18ce04399b.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 31 33" src="https://user-images.githubusercontent.com/49272528/71718023-47395f80-2e5d-11ea-9ecc-2dd324d849d5.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 31 36" src="https://user-images.githubusercontent.com/49272528/71718027-49032300-2e5d-11ea-8a59-ab621527c0ea.png">



2. **설문조사 / 복용제품 등록**

<img width="300" alt="스크린샷 2020-01-03 오후 4 44 24" src="https://user-images.githubusercontent.com/49272528/71717422-6c2cd300-2e5b-11ea-8ebf-88afd4431dbc.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 49 53" src="https://user-images.githubusercontent.com/49272528/71717429-7058f080-2e5b-11ea-872e-8e5af60dc896.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 50 01" src="https://user-images.githubusercontent.com/49272528/71717471-92eb0980-2e5b-11ea-9a9f-5d7a6ae54a01.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 50 14" src="https://user-images.githubusercontent.com/49272528/71717475-954d6380-2e5b-11ea-8b49-0b955bcbdc4a.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 50 19" src="https://user-images.githubusercontent.com/49272528/71717478-98485400-2e5b-11ea-9be2-9f5e4066b890.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 50 24" src="https://user-images.githubusercontent.com/49272528/71717527-b910a980-2e5b-11ea-9bc5-86d5a7b8d7c2.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 50 28" src="https://user-images.githubusercontent.com/49272528/71717533-bca43080-2e5b-11ea-9806-a30b51332c0d.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 50 38" src="https://user-images.githubusercontent.com/49272528/71717544-bf068a80-2e5b-11ea-9b79-50d6385554a4.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 51 52" src="https://user-images.githubusercontent.com/49272528/71717546-c0d04e00-2e5b-11ea-8c91-9d165615e42e.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 51 55" src="https://user-images.githubusercontent.com/49272528/71717549-c29a1180-2e5b-11ea-9478-0b082a779c7e.png"><img width="300" alt="스크린샷 2020-01-03 오후 4 52 08" src="https://user-images.githubusercontent.com/49272528/71717554-c463d500-2e5b-11ea-9151-e9853599ed4d.png">

3. **홈 화면**

<img width="300" alt="스크린샷 2020-01-03 오후 6 30 28" src="https://user-images.githubusercontent.com/49272528/71717620-fa08be00-2e5b-11ea-8c1a-16ee76ed8649.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 30 47" src="https://user-images.githubusercontent.com/49272528/71717661-14db3280-2e5c-11ea-94bf-cce32352692d.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 33 27" src="https://user-images.githubusercontent.com/49272528/71718324-2faea680-2e5e-11ea-8e1f-6365f7c70333.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 33 35" src="https://user-images.githubusercontent.com/49272528/71718322-2f161000-2e5e-11ea-9778-a40590a09e20.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 33 30" src="https://user-images.githubusercontent.com/49272528/71718323-2faea680-2e5e-11ea-9ea0-851ec8205717.png">


3-1. **기준 상세**

<img width="300" alt="스크린샷 2020-01-03 오후 6 30 33" src="https://user-images.githubusercontent.com/49272528/71717621-faa15480-2e5b-11ea-8a6c-675fdcb832b5.png">

3-2. **기능 상세**

<img width="300" alt="스크린샷 2020-01-03 오후 6 30 41" src="https://user-images.githubusercontent.com/49272528/71717630-01c86280-2e5c-11ea-9c55-168ef60e6af4.png">

3-3. **복용중인 제품**

<img width="300" alt="스크린샷 2020-01-03 오후 6 30 51" src="https://user-images.githubusercontent.com/49272528/71717868-cd08db00-2e5c-11ea-97bc-6746db72e771.png">

4. **제품 / 제품 검색 / 제품 상세**

<img width="300" alt="KakaoTalk_Photo_2020-01-03-18-44-27" src="https://user-images.githubusercontent.com/49272528/71717896-f164b780-2e5c-11ea-8131-68586f99510f.png"><img width="300" alt="KakaoTalk_Photo_2020-01-03-18-44-47" src="https://user-images.githubusercontent.com/49272528/71717933-080b0e80-2e5d-11ea-9d31-a01c8dec7eef.png"><img width="300" alt="KakaoTalk_Photo_2020-01-03-18-44-51" src="https://user-images.githubusercontent.com/49272528/71717931-080b0e80-2e5d-11ea-8e99-a7ffea52466f.png"><img width="300" alt="KakaoTalk_Photo_2020-01-03-19-47-48" src="https://user-images.githubusercontent.com/49272528/71719623-4fe06480-2e62-11ea-97c6-01c5abbef01f.png">


5. **성분 학습**

<img width="300" alt="스크린샷 2020-01-03 오후 6 30 58" src="https://user-images.githubusercontent.com/49272528/71717989-34bf2600-2e5d-11ea-95ec-4c37aa5538f7.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 31 10" src="https://user-images.githubusercontent.com/49272528/71717993-37218000-2e5d-11ea-9d43-cb9c3f9a8175.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 31 22" src="https://user-images.githubusercontent.com/49272528/71718004-3c7eca80-2e5d-11ea-8307-13699ac1a2bf.png"><img width="300" alt="스크린샷 2020-01-03 오후 6 31 02" src="https://user-images.githubusercontent.com/49272528/71718018-443e6f00-2e5d-11ea-9d4e-942acbca2003.png">

------

<br/>

### 🚩 개발 환경 및 사용한 라이브러리

#### 개발 환경

- [Xcode] : xcode와 swift를 사용해 개발


#### 라이브러리

- [Alamofire] : 통신 라이브러리

- [Kingfisher] : 통신 라이브러리 (이미지)

- [Hero] : 뷰 전환 애니메이션

- [Macaw] : chart view 구현을 위한 애니메이션 라이브러리

<br/>

------

### 🚩 기능 소개 (기능, 개발여부, 기타 사항)
    주혁 : 설문조사, 복용제품 등록/관리, 제품 탭 기능 담당
    재은 : 로그인/회원가입, 메인 탭, 성분학습 탭 기능 담당
|  <center>기능</center> |  <center>개발 여부</center> |  <center> 기타 사항 </center> |
|:--------:|:--------:|:--------:|
|<center> 로그인 / 회원가입 </center> | <center> ○ </center> |<center></center>|
|<center> 설문조사 </center> | <center> ○ </center> |<center> </center> |
|<center> 복용 중인 제품 등록 </center> | <center> ○ </center> |<center> </center> |
|<center> 기준 상세 그래프 </center> | <center> ○ </center> |<center>  </center> |
|<center> 기준 상세 개별 그래프 </center> | <center> ○ </center> |<center>  </center> |
|<center> 기능성 원료 </center> | <center> ○ </center> |<center>  </center> |
|<center> 상세 기능성 , 케어 받는 기능 </center> | <center> ○ </center> |<center>  </center> |
|<center> 복용 관리 </center> | <center> ○ </center> |<center> </center> |
|<center> 복용 상세 관리 (스케줄 관리) </center> | <center> △ </center> |<center>푸시 알림 기능 구현 못함(개발자 계정 없음)</center> |
|<center> 사용자 추가 </center> | <center> ○ </center> |<center>  </center> |
|<center> 사용자 설정 </center> | <center> x </center> |<center>후 순위 기능, 팝업 안내까지는 구현 완료</center> |
|<center> 제품 안내하기 </center> | <center> ○ </center> |<center>  </center> |
|<center> 제품 상세 안내하기 </center> | <center> ○ </center> |<center>  </center> |
|<center> 제품 검색 </center> | <center> ○ </center> |<center>  </center> |
|<center> 제품별 기준 안내하기(기준 선정 이유 안내) </center> | <center> ○ </center> |<center>  </center> |
|<center> 제품 안내 필터링하기 </center> | <center> x </center> |<center>후 순위 기능</center> |
|<center> 성분 학습 </center> | <center> ○ </center> |<center> </center> |
|<center> 성분 학습 상세 안내하기 </center> | <center> ○ </center> |<center>  </center> |
|<center> 성분 학습 증상별 안내하기 </center> | <center> ○ </center> |<center>  </center> |
|<center> 성분 학습 아티클 </center> | <center> ○ </center> |<center> </center> |

<br/>

------

### 🚩 문제점과 해결방안 report

1. **UIScrollView**

   scroll view 에서 bottom 에 계속 여백 공간이 남았음.
   auto layout 문제인줄 알았으나 해당 view controller 에 scroll view를 outlet 변수로 지정해두고 scroll view edge inset을 지정해뒀었음. (아직도 왜 그랬는지는 의문임.😂)

   <img width="688" alt="스크린샷 2020-01-03 오후 7 33 04" src="https://user-images.githubusercontent.com/49272528/71718858-e52e2980-2e5f-11ea-8324-5cf9c470a8d3.png">

2. **Pod**

   cocoapod, library 버전을 다 맞추고 pod 을 설치했는데도 다른 개발자가 pull 을 받았을 때 자꾸 pod 을 새로 install 해야하는 문제가 있었음.
   확인해보니 project 파일에 pod 을 install 한 후 .gitignore 을 설치한 것이 문제였던 것 같음.

   <img width="400" alt="스크린샷 2020-01-03 오후 7 24 19" src="https://user-images.githubusercontent.com/49272528/71718501-bcf1fb00-2e5e-11ea-96fa-90a58bf9f297.png">
   
3. **304 Error**

    통신에서 서버에 요청한 데이터는 잘 들어오는데 클라단에서 요청한 부분이 304 로 들어오는 문제가 있었음.
    찾아본 결과 JSON 자체에서 요청 값을 받아올 때 캐싱하는 쪽에 설정이 필요했음. 서버 측에서 해결-!

4. **Tab Gesture Recognize**

    Problem : 화면의 다른 곳을 tab 했을 시 keyboard 가 내려가도록하는 UIGesturreRecognizerDelegate를 지정했지만 같은 뷰에 있는 table view와 collection view 의 cell 들이 클릭되지 않는 문제 발생.

    Solution : 아래와 같이 initGestureRecognizer 함수에서 .cancleTouchesInView 를 false 값으로 설정하니 키보드도 잘 내려가면서 다른 뷰들의 tab도 잘 인식됨.

    <img width="774" alt="스크린샷 2020-01-03 오후 7 36 00" src="https://user-images.githubusercontent.com/49272528/71719010-4a821a80-2e60-11ea-964a-1ee9cdd770b2.png">

5. **Query String**
    
    Problem: 서버측에 요청해야하는 key 값이 아래 API 문서에 나와있는 것처럼 query 였음. query string 을 요청해본 적이 없어 어떻게 해야하는지 고민함.

    <img width="400" alt="스크린샷 2020-01-03 오후 7 19 21" src="https://user-images.githubusercontent.com/49272528/71718506-c11e1880-2e5e-11ea-9866-d4a13aaf2883.png">

    Solution: 아래와 같이 parameter에 요청할 query string 을 담아 보내고 encoding 을 URLEncoding.queryString 으로 작성해주니 문제 없이 통신 성공함.

    <img width="688" alt="스크린샷 2020-01-03 오후 7 28 31" src="https://user-images.githubusercontent.com/49272528/71718648-3e498d80-2e5f-11ea-995b-08ce1dfddb64.png">
    

6. **+) 추후 수정해보고 싶은 부분 : Status Handling**

    현재은 아래와 같이 status를 각각 처리해주고 있지만 (ex: 200, 201, 204 다 따로 따로) 함께한 다른 팀원이 모든 케이스 별로 status를 처리하지 맑고 1xx, 2xx, 3xx 등 같은 백번대끼리 묶어서 핸들링하는게 더 좋다고 들어 수정해보고 싶음.

    <img width="688" alt="스크린샷 2020-01-03 오후 7 35 03" src="https://user-images.githubusercontent.com/49272528/71718964-29212e80-2e60-11ea-852d-1d8c93b4b0c0.png">


<br/>

------

### 👩🏻‍💻 팀원소개 👨🏻‍💻

* 안재은
> SOPT 25기 APPJAM 에서 Care Direction iOS 개발 파트원으로 임했습니다!
> 이번 앱잼도 좋은 팀원들과 함께 할 수 있어 행복합니다! (하지만 역시나 2주 밤샘은 힘들다..)

* 이주혁
> 25기 YB CareDirection에서 재은이 수발을 맡은 이주혁입니다 ^ㅇ^
